import{j as m}from"./ui-c6rpaoQp.js";import{r as p}from"./vendor-B6OAZll8.js";import{b as Z}from"./state-BMzes8HB.js";import{g as fe,h as pe,s as Se,c as he,B as _e}from"./index-OXkYnlMT.js";import{u as we}from"./useConnection-tQ8iI_mL.js";import{u as ve}from"./useSTT-CR2fMChw.js";import{t as C}from"./utils-E4Pq5uL6.js";import{h as ne,i as te,j as Te}from"./icons-Dzbm43Jr.js";import"./sdk-_0emOJGD.js";function Re(t){const g=t.environment;return{apiKey:t[g].connection.apiKey,baseUrl:t[g].connection.baseUrl,authBaseUrl:t[g].connection.authBaseUrl,workflowId:t[g].connection.workflowId,environment:g,stt:t[g].stt,tts:t[g].tts}}const ye=[{value:"en_US",label:"English (US)",shortLabel:"EN"},{value:"en_GB",label:"English (UK)",shortLabel:"EN"},{value:"es_ES",label:"Spanish (Spain)",shortLabel:"ES"},{value:"fr_FR",label:"French (France)",shortLabel:"FR"},{value:"de_DE",label:"German (Germany)",shortLabel:"DE"},{value:"it_IT",label:"Italian (Italy)",shortLabel:"IT"},{value:"pt_BR",label:"Portuguese (Brazil)",shortLabel:"PT"},{value:"ja_JP",label:"Japanese (Japan)",shortLabel:"JA"},{value:"ko_KR",label:"Korean (Korea)",shortLabel:"KO"},{value:"zh_CN",label:"Chinese (China)",shortLabel:"ZH"}],Me=t=>{const g=ye.find(b=>b.value===t);return(g==null?void 0:g.shortLabel)||t},F=(t,g="Conversation Update")=>{console.group(`ðŸ“‹ ${g}`),console.log(`Total messages: ${t.length}`);const b=t.filter(w=>w.kind==="STT Stream"),T=t.filter(w=>w.isRecording===!0);console.log(`STT messages: ${b.length}`),console.log(`Currently recording: ${T.length}`),t.forEach((w,E)=>{const u=w.isRecording?"ðŸ”´":"âšª",V=w.status||"unknown",B=w.kind||"unknown",$=w.durationMs?`${(w.durationMs/1e3).toFixed(1)}s`:"0s";console.log(`${E+1}. ${u} [${B}] ${w.id.substring(0,20)}... | ${V} | ${$}`)}),T.length>0&&console.log("ðŸŽ¤ Currently recording:",T[0].id),console.groupEnd()};function $e(){const[t,g]=Z(fe),[b,T]=Z(pe),[w]=Z(Se),E=Re(w),u=p.useRef(null),{createStreamConnection:V,closeStream:B}=ve(),{isConnected:$,sessionId:N,createSession:oe,isConnecting:J,isOnline:re,updateConnectionState:Q}=we(),[H,O]=p.useState(!1),[ie,X]=p.useState(!1),M=t.isRecording?"connected":ie?"preparingMic":H?"connecting":re&&N?"ready":"idle";p.useEffect(()=>{if(H){const o=setTimeout(()=>{O(!1)},3e3);return()=>clearTimeout(o)}},[H]);const G=M;p.useEffect(()=>{console.log("ðŸ” VoiceControls state:",{computedMicrophoneState:M,isConnecting:J,isConnected:$,sessionId:N,audioState:t.microphoneState})},[M,J,$,N,t.microphoneState]),p.useEffect(()=>{if(console.log("ðŸ” Sync effect triggered:",{audioState:t.microphoneState,computedState:M,isRecording:t.isRecording,shouldSync:t.microphoneState!==M}),t.microphoneState!==M){console.log("ðŸ”„ Syncing audio state with computed state:",{from:t.microphoneState,to:M});const o=N||t.currentSessionId;g(i=>({...i,microphoneState:M,currentSessionId:o}))}},[M,t.microphoneState,t.currentSessionId,t.isRecording,N,g]);const k=p.useRef(null),L=p.useRef(null),D=p.useRef(null),j=p.useRef(null),v=p.useRef(0),h=p.useRef(null),K=p.useRef(new Map),Y=p.useRef(new Set),U=p.useRef(""),x=p.useRef("");p.useEffect(()=>{if(v.current===0||!t.isRecording)return;const o=setInterval(()=>{const i=Date.now();g(d=>{const c=v.current>0?i-v.current:0;return c>0&&c%1e3<100&&console.log(`Timer running: ${c}ms`),{...d,elapsedMs:d.startedAtMs>0?i-d.startedAtMs:0,sttRequestElapsedMs:c}}),u.current&&v.current>0&&(console.log("ðŸ”„ Updating conversation message duration:",{currentMessageId:u.current,sttStartTime:v.current,elapsed:i-v.current}),T(d=>({...d,messages:d.messages.map(c=>c.id===u.current?(console.log("ðŸ“ Updating STT message:",c.id,"duration:",i-v.current),{...c,durationMs:i-v.current}):c)})))},100);return()=>clearInterval(o)},[t.isRecording,t.startedAtMs,t.sttRequestStartedAtMs,t.currentSessionId,g,T,v]),p.useEffect(()=>{const o=j.current;if(!o||!o.connected)return;const i=w.environment,d=w[i].stt.keywords||[],c=w[i].stt.schemaValues||{},r=JSON.stringify(d);if(r!==U.current){const a={};if(d.forEach(n=>{a[n]=n}),Object.keys(a).length>0){console.log("ðŸ”‘ Updating keywords dynamically:",a);try{o.setKeywords(a),U.current=r}catch(n){console.error("âŒ Error updating keywords:",n)}}else U.current=r}const e=JSON.stringify(c);if(e!==x.current)if(Object.keys(c).length>0){console.log("ðŸ“‹ Updating schema values dynamically:",c);try{x.current=e,o.setSchemaValues(c,a=>{a.status==="ok"?console.log("âœ… Schema values updated successfully"):(console.warn("âš ï¸ Schema values update warning:",a.message),x.current="")})}catch(a){console.error("âŒ Error updating schema values:",a),x.current=""}}else x.current=e},[w]),p.useEffect(()=>()=>{h.current&&(clearInterval(h.current),h.current=null),B(),P()},[]);const P=()=>{D.current&&(D.current.getTracks().forEach(o=>o.stop()),D.current=null),k.current&&k.current.state!=="closed"&&(k.current.close(),k.current=null),L.current=null},z=async o=>{console.log("ðŸŽµ Setting up audio pipeline..."),Q({isStreaming:!0,error:void 0}),h.current&&(clearInterval(h.current),h.current=null),console.log("ðŸ”„ Updating message status to streaming for:",u.current),T(i=>{const d=i.messages.map(c=>c.id===u.current?(console.log("âœ… Setting streaming status for message:",c.id),{...c,status:"streaming",content:"ðŸŽ¤ Recording... (Streaming)",isRecording:!0}):(c.isRecording&&console.log("âŒ Clearing isRecording for non-current message:",c.id),{...c,isRecording:!1}));return F(d,"Message Status Updated to Streaming"),{...i,messages:d}});try{const i=k.current.createMediaStreamSource(D.current);L.current=new AudioWorkletNode(k.current,"audio-processor");let d=0;L.current.port.onmessage=c=>{try{if(o.send(c.data.audio_data),c.data.amplitude){const r=c.data.amplitude,e=u.current;e&&T(a=>{const n=a.messages.map(s=>{if(s.id===e){const l=[...s.amplitudeHistory||[],r].slice(-50);return{...s,amplitudeData:r,amplitudeHistory:l}}return s});return{...a,messages:n}})}d++,d%50===0&&console.log(`ðŸ”Š Sent ${d} audio packets`)}catch(r){d%100===0&&console.error("âš ï¸ Error sending audio data:",r)}},i.connect(L.current),console.log("âœ… Audio pipeline connected"),g(c=>(console.log("ðŸŽ¯ Setting isRecording to true, current state:",{isRecording:c.isRecording,microphoneState:c.microphoneState}),{...c,micAllowed:!0,isRecording:!0,startedAtMs:Date.now(),elapsedMs:0})),X(!1),console.log("âœ… Recording started successfully",{isRecording:!0,currentSessionId:t.currentSessionId,micAllowed:!0})}catch(i){throw console.error("âŒ Error setting up audio pipeline:",i),C.error("Failed to set up audio"),h.current&&(clearInterval(h.current),h.current=null),i}},ee=async()=>{if(console.log("ðŸŽ¤ Starting recording..."),!E.apiKey){C.error("Please configure your API key first");return}try{const o=`stt_request_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,i=`recording_${t.currentSessionId||"default"}_${Date.now()}_${Math.random().toString(36).substr(2,6)}`,d={id:o,role:"user",content:"ðŸŽ¤ Recording...",createdAt:Date.now(),sessionId:t.currentSessionId||void 0,conversation_session_id:i,kind:"STT Stream",status:"recording",isRecording:!0};console.log("ðŸŽ¤ Creating new STT message:",o,"with isRecording: true"),u.current=o,K.current.clear(),g(e=>({...e,currentRecordingMessageId:o})),T(e=>{const n=[...e.messages.map(s=>({...s,isRecording:!1})),d];return F(n,"New STT Message Created"),{...e,messages:n}}),v.current=Date.now(),console.log("ðŸ’¬ Added STT request message to chat:",d.id,"Timer started at:",v.current),X(!0),console.log("ðŸŽ¤ Step 1: Accessing microphone stream...");const c=await navigator.mediaDevices.getUserMedia({audio:{sampleRate:16e3,channelCount:1,echoCancellation:!0,noiseSuppression:!0}});console.log("âœ… Microphone stream accessed"),D.current=c,console.log("ðŸŽ¤ Step 2: Setting up AudioContext...");try{k.current=new AudioContext({sampleRate:16e3,latencyHint:"interactive"}),k.current.state==="suspended"&&await k.current.resume(),await k.current.audioWorklet.addModule("/aiola-voice-api-app/audio-processor.js"),console.log("âœ… Audio worklet loaded"),console.log("ðŸ”§ Microphone preparation phase started")}catch(e){console.error("âŒ AudioContext setup failed:",e),C.error("Failed to initialize audio system. Please check your browser settings."),P();return}console.log("ðŸ“¡ Step 3: Creating STT stream...");const r=await V();Y.current.has(r)?(console.log("ðŸ”„ Reusing existing connection handlers"),r.connected&&(console.log("ðŸ”Œ Connection already connected, setting up audio pipeline..."),setTimeout(async()=>{try{await z(r)}catch(e){console.error("âŒ Error setting up audio pipeline for existing connection:",e)}},0))):(console.log("ðŸ”§ Setting up new connection handlers"),Y.current.add(r),r.on("connect",async()=>{console.log("âœ… Stream connected - Setting up audio pipeline..."),C.success("Connected - Recording started");try{const e=E.stt.keywords||[],a={};e.forEach(s=>{a[s]=s}),Object.keys(a).length>0&&(console.log("ðŸ”‘ Applying keywords:",a),r.setKeywords(a)),U.current=JSON.stringify(e);const n=E.stt.schemaValues||{};Object.keys(n).length>0&&(console.log("ðŸ“‹ Applying schema values:",n),r.setSchemaValues(n,s=>{s.status==="ok"?console.log("âœ… Schema values set successfully"):console.warn("âš ï¸ Schema values set with warning:",s.message)})),x.current=JSON.stringify(n),await z(r)}catch(e){console.error("âŒ Error in connect handler:",e),W()}}),r.on("transcript",e=>{console.log("test-x New transcript arriving from SDK:",e.transcript),console.log("ðŸ“ Transcript received:",e.transcript),console.log("ðŸ” Current recording message ID:",u.current);let a=u.current;if(!a){console.log("ðŸ” No current STT message ID, looking for STT Stream message to associate transcript...");const n=b.messages.reduce((l,_)=>{const y=_.kind||"unknown";return l[y]=(l[y]||0)+1,l},{});console.log("ðŸ” Message types in conversation:",n);const s=b.messages.filter(l=>l.kind==="STT Stream");console.log("ðŸ” Found",s.length,"STT Stream messages in conversation"),s.length===0&&b.messages.length>0&&(console.warn("âš ï¸ No STT Stream messages found, but conversation has other messages. This suggests a timing issue."),console.log("ðŸ” Latest messages in conversation:",b.messages.slice(-3)));const R=s.filter(l=>b.messages.some(_=>_.kind==="Transcription"&&_.conversation_session_id===l.conversation_session_id)).sort((l,_)=>_.createdAt-l.createdAt);if(console.log("ðŸ” Found",R.length,"STT Stream messages with existing transcriptions"),R.length>0)a=R[0].id,console.log("âœ… Found STT Stream message with existing transcription:",a,"conversation_session_id:",R[0].conversation_session_id);else{const l=s.sort((_,y)=>y.createdAt-_.createdAt);if(l.length>0)a=l[0].id,console.log("âœ… Using last STT Stream message for new transcription:",a,"conversation_session_id:",l[0].conversation_session_id);else{console.warn("âš ï¸ No STT Stream message found to associate transcript with, skipping processing");return}}}T(n=>{var se;console.log("ðŸ” Total messages:",n.messages.length),console.log("ðŸ” STT Stream messages:",n.messages.filter(S=>S.kind==="STT Stream").length),console.log("ðŸ” Transcription messages:",n.messages.filter(S=>S.kind==="Transcription").length);let s=n.messages.find(S=>S.id===a);if(console.log("ðŸ” STT message for transcript:",s==null?void 0:s.id,s==null?void 0:s.conversation_session_id),!s){console.log("ðŸ“ No STT Stream message found for ID:",a,"scanning for existing STT conversations");const S=n.messages.filter(f=>f.kind==="STT Stream"||f.kind==="Transcription"||f.kind==="STT File"&&f.isTranscription);if(console.log("ðŸ” Found",S.length,"STT-related messages in conversation"),S.length>0){const f=S.sort((ge,me)=>me.createdAt-ge.createdAt)[0],I=f.conversation_session_id;console.log("âœ… Found existing STT conversation:",I,"from message:",f.id);const A={id:`stt_stream_${Date.now()}`,role:"user",content:"ðŸŽ¤ Recording...",createdAt:Date.now(),sessionId:t.currentSessionId||void 0,conversation_session_id:I,kind:"STT Stream",status:"done",isRecording:!1};console.log("âœ… Creating new STT Stream message linked to existing conversation:",A.id,"with conversation_session_id:",I);const q=[...n.messages,A];console.log("ðŸ“‹ Updated conversation with linked STT Stream message, total messages:",q.length),a=A.id,s=A;const ue={...n,messages:q};return console.log("âœ… Using newly created STT Stream message linked to existing conversation"),ue}else{console.log("ðŸ“ No existing STT conversations found, creating completely new conversation");const f=`transcript_session_${Date.now()}_${Math.random().toString(36).substr(2,6)}`,I={id:`stt_stream_${Date.now()}`,role:"user",content:"ðŸŽ¤ Recording...",createdAt:Date.now(),sessionId:t.currentSessionId||void 0,conversation_session_id:f,kind:"STT Stream",status:"done",isRecording:!1};console.log("âœ… Creating new STT Stream message with new conversation:",I.id,"with conversation_session_id:",f);const A=[...n.messages,I];console.log("ðŸ“‹ Updated conversation with new STT Stream message, total messages:",A.length),a=I.id,s=I;const q={...n,messages:A};return console.log("âœ… Using newly created STT Stream message with new conversation"),q}}if(!s.conversation_session_id)return console.warn("âš ï¸ STT Stream message missing conversation_session_id"),n;const R=s.conversation_session_id;K.current.has(R)||K.current.set(R,new Set);const l=K.current.get(R);if(l.has(e.transcript))return console.log("ðŸ”„ Skipping duplicate transcript:",e.transcript,"for conversation:",R),n;l.add(e.transcript),console.log("âœ… Processing transcript:",e.transcript,"for conversation:",R);const _=n.messages.filter(S=>S.kind==="Transcription"&&S.conversation_session_id===s.conversation_session_id);console.log("ðŸ” Found",_.length,"existing transcription messages with conversation_session_id:",s.conversation_session_id);const y=_.length>0?_.sort((S,f)=>f.createdAt-S.createdAt)[0]:null;if(console.log("ðŸ” Most recent transcription message:",y==null?void 0:y.id,((se=y==null?void 0:y.content)==null?void 0:se.substring(0,100))+"..."),y){const S=n.messages.map(f=>{if(f.id===y.id){const I=f.content?`${f.content} ${e.transcript}`:e.transcript;return console.log("âœ… Appending transcript to existing transcription:",e.transcript,"conversation_session_id:",s==null?void 0:s.conversation_session_id),console.log("âœ… Old content:",f.content,"â†’ New content:",I),{...f,content:I,createdAt:Date.now()}}return f});return{...n,messages:S}}else{const S={id:`transcript_${Date.now()}`,role:"assistant",content:e.transcript,createdAt:Date.now(),sessionId:t.currentSessionId||void 0,conversation_session_id:s.conversation_session_id,kind:"Transcription",status:"done",isTranscription:!0};return console.log("âœ… Creating new transcription message:",e.transcript,"with conversation_session_id:",s.conversation_session_id),console.log("ðŸ“‹ Total messages before adding new transcription:",n.messages.length),{...n,messages:[...n.messages,S]}}})}),r.on("structured",e=>{if(console.log("ðŸ”§ Structured event received:",e),console.log("ðŸ“Š Structured results:",e.results),!e.results||typeof e.results!="object"){console.warn("âš ï¸ No structured results to process");return}const a=u.current;if(!a){console.warn("âš ï¸ No current STT message ID for structured data");return}T(n=>{const s=n.messages.find(l=>l.id===a);if(!s)return console.warn("âš ï¸ Could not find current STT message"),n;const R=n.messages.find(l=>l.kind==="Structured"&&l.conversation_session_id===s.conversation_session_id);if(R){const l=n.messages.map(_=>_.id===R.id?(console.log("âœ… Updating existing structured message with new data"),{..._,structuredData:{..._.structuredData,...e.results},content:`Structured data updated (${Object.keys(e.results).length} fields)`}):_);return{...n,messages:l}}else{const l={id:`structured_${Date.now()}`,role:"assistant",content:`Structured data received (${Object.keys(e.results).length} fields)`,createdAt:Date.now(),sessionId:t.currentSessionId||void 0,conversation_session_id:s.conversation_session_id,kind:"Structured",status:"done",structuredData:e.results};return console.log("âœ… Creating new structured message:",{id:l.id,conversation_session_id:l.conversation_session_id,resultsCount:Object.keys(e.results).length}),{...n,messages:[...n.messages,l]}}})}),r.on("error",e=>{console.error("âŒ Connection Error:",e),C.error(`Error: ${(e==null?void 0:e.message)||"Connection failed"}`),console.log("âŒ Setting error status for message:",u.current),u.current&&T(a=>{const n=a.messages.map(s=>s.id===u.current?(console.log("âœ… Setting error status for message:",s.id),{...s,status:"error",content:"ðŸŽ¤ Recording failed",error:(e==null?void 0:e.message)||"Connection failed",isRecording:!1}):(s.isRecording&&console.log("âŒ Clearing isRecording for message:",s.id),{...s,isRecording:!1}));return F(n,"Recording Error"),{...a,messages:n}}),u.current=null,g(a=>({...a,currentRecordingMessageId:void 0})),W()}),r.on("disconnect",e=>{U.current="",x.current="",console.log("ðŸ”Œ Disconnected:",e),e&&e!=="io client disconnect"&&C.error(`Disconnected: ${e}`),h.current&&(clearInterval(h.current),h.current=null)})),j.current=r,console.log("âœ… STT stream created and handlers set up"),r.connected?(console.log("ðŸ”Œ Reusing existing STT connection..."),setTimeout(async()=>{try{await z(r)}catch(e){console.error("âŒ Error setting up audio pipeline for existing connection:",e)}},0)):(console.log("ðŸ”Œ Connection was closed, creating new STT stream..."),r.connect())}catch(o){console.error("âŒ Error starting recording:",o);let i="Failed to start recording";o instanceof Error&&(o.name==="NotAllowedError"?i="Microphone access denied. Please allow microphone permissions.":o.name==="NotFoundError"?i="No microphone found. Please connect a microphone and try again.":o.name==="NotReadableError"?i="Microphone is already in use by another application.":o.name==="OverconstrainedError"?i="Microphone doesn't support the required audio format.":i=o.message),C.error(i),P(),console.log("âŒ Setting error status for message (startRecording):",u.current),u.current&&T(d=>{const c=d.messages.map(r=>r.id===u.current?(console.log("âœ… Setting error status for message:",r.id),{...r,status:"error",content:"ðŸŽ¤ Recording failed",error:i,isRecording:!1}):(r.isRecording&&console.log("âŒ Clearing isRecording for message:",r.id),{...r,isRecording:!1}));return F(c,"Recording Error (Start)"),{...d,messages:c}}),u.current=null,g(d=>({...d,sttRequestStartedAtMs:0,sttRequestElapsedMs:0,currentRecordingMessageId:void 0})),v.current=0}},W=()=>{if(console.log("ðŸ”´ Stopping recording for message:",u.current),u.current){const i=v.current>0?Date.now()-v.current:0;console.log("ðŸ“ Setting message to done status:",u.current,"duration:",i),T(d=>{const c=d.messages.map(r=>r.id===u.current?(console.log("âœ… Setting done status for message:",r.id),{...r,status:"done",durationMs:i,isRecording:!1}):(r.isRecording&&console.log("âŒ Clearing isRecording for message:",r.id),{...r,isRecording:!1}));return F(c,"Recording Completed"),{...d,messages:c}})}Q({isStreaming:!1}),j.current&&!h.current&&(h.current=setInterval(()=>{if(j.current&&j.current.connected)try{j.current.send(new ArrayBuffer(0))}catch(i){console.log("Keepalive ping failed:",i),h.current&&(clearInterval(h.current),h.current=null)}},3e4)),P();const o=u.current;u.current=null,console.log("ðŸ§¹ Clearing current recording message ID:",o),g(i=>({...i,isRecording:!1,partialText:"",currentRecordingMessageId:void 0,sttRequestStartedAtMs:0,sttRequestElapsedMs:0})),console.log("ðŸ”´ Recording stopped, microphone in ready state",{isRecording:!1,microphoneState:"ready",currentSessionId:t.currentSessionId,previousMessageId:o,micAllowed:!0}),v.current=0},ce=async()=>{if(console.log("ðŸŽ¤ Microphone button clicked",{computedState:M,audioState:t.microphoneState,isConnected:$,sessionId:t.currentSessionId,isRecording:t.isRecording}),M==="connected"){console.log("ðŸ”´ Currently connected/recording, stopping..."),W();return}if(M==="ready"){console.log("ðŸŽ¤ In ready state, starting recording..."),await ee();return}if(!N){console.log("ðŸŽ¤ No session exists, creating session..."),O(!0);try{await ae()}catch(o){console.error("âŒ Error creating session:",o),O(!1)}return}},ae=async()=>{try{console.log("ðŸ”§ Creating new session for microphone recording..."),await oe(),console.log("âœ… Session created successfully:",N),await ee()}catch(o){console.error("âŒ Failed to create session:",o),C.error("Failed to create session. Please check your API key in the settings and try again â†’"),O(!1)}},le=()=>{const o=Me(E.stt.language);switch(G){case"connecting":return m.jsxs("div",{className:"voice-controls__mic-container",children:[m.jsx("div",{className:"voice-controls__connecting-indicator",children:m.jsx("div",{className:"voice-controls__connecting-dot"})}),m.jsx(ne,{className:"voice-controls__mic-icon--connecting"}),m.jsx("div",{className:"voice-controls__language-indicator",children:o})]});case"connected":return m.jsxs("div",{className:"voice-controls__mic-container",children:[m.jsx(Te,{className:"voice-controls__mic-icon--connected"}),m.jsx("div",{className:"voice-controls__language-indicator",children:o})]});case"ready":return m.jsxs("div",{className:"voice-controls__mic-container",children:[m.jsx(te,{className:"voice-controls__mic-icon--ready"}),m.jsx("div",{className:"voice-controls__language-indicator",children:o})]});case"preparingMic":return m.jsxs("div",{className:"voice-controls__mic-container",children:[m.jsx("div",{className:"voice-controls__connecting-indicator",children:m.jsx("div",{className:"voice-controls__connecting-dot--white"})}),m.jsx(te,{className:"voice-controls__mic-icon--preparing"}),m.jsx("div",{className:"voice-controls__language-indicator",children:o})]});default:return m.jsxs("div",{className:"voice-controls__mic-container",children:[m.jsx(ne,{className:"voice-controls__mic-icon--idle"}),m.jsx("div",{className:"voice-controls__language-indicator",children:o})]})}},de=()=>{console.log("ðŸ” getButtonClassName-> Getting button class name for state:",G);const o="voice-controls__mic-button",i=(()=>{switch(G){case"connected":return"voice-controls__mic-button--connected";case"ready":return"voice-controls__mic-button--ready";case"connecting":return"voice-controls__mic-button--connecting";case"preparingMic":return"voice-controls__mic-button--preparingMic";default:return"voice-controls__mic-button--idle"}})();return`${o} ${i}`};return m.jsx("div",{className:he("VoiceControls","voice-controls-buttons"),children:m.jsx(_e,{variant:"ghost",size:"sm",onClick:ce,disabled:J,className:`voice-controls__mic-button ${de()}`,children:le()})})}export{$e as VoiceControls};
