const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ConfigDialog-DpZ3TTh4.js","assets/ui-c6rpaoQp.js","assets/vendor-B6OAZll8.js","assets/useConnection-rGivOEL_.js","assets/state-BMzes8HB.js","assets/sdk-_0emOJGD.js","assets/utils-E4Pq5uL6.js","assets/useSTT-DgwqpvDM.js","assets/icons-Dzbm43Jr.js","assets/ConfigDialog-Dr8IhnHe.css","assets/VoiceControls-D5WDwUpZ.js","assets/VoiceControls-BWfjtvzr.css","assets/UploadDropzone-CLdGrOb0.js","assets/UploadDropzone-CJdhxgbo.css","assets/ChatMessageList-Bja7a3sY.js","assets/audio-B1K76-a3.js","assets/ChatMessageList-7A8d2XHD.css"])))=>i.map(i=>d[i]);
import{t as ce,c as le,j as e,S as de,a as ue,T as J,I as pe,b as G,d as H,P as he,C as W,V as me,L as Z,e as Q,f as ge,g as fe,h as X,R as ve,i as xe}from"./ui-c6rpaoQp.js";import{b as _e,r as l}from"./vendor-B6OAZll8.js";import{R as U,a as ye,b as K,c as I,d as we}from"./state-BMzes8HB.js";import{t as V,T as be}from"./utils-E4Pq5uL6.js";import{C as Y,a as Se,b as je,I as Ne,c as ke,d as k,e as Ce,f as Ie,g as Ve}from"./icons-Dzbm43Jr.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var ee,D=_e;ee=D.createRoot,D.hydrateRoot;const Ue="modulepreload",Ke=function(t){return"/aiola-voice-api-app/"+t},q={},j=function(a,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),p=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));o=Promise.allSettled(n.map(d=>{if(d=Ke(d),d in q)return;q[d]=!0;const h=d.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":Ue,h||(g.as="script"),g.crossOrigin="",g.href=d,p&&g.setAttribute("nonce",p),document.head.appendChild(g),h)return new Promise((_,y)=>{g.addEventListener("load",_),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})}))}function c(i){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=i,window.dispatchEvent(p),!p.defaultPrevented)throw i}return o.then(i=>{for(const p of i||[])p.status==="rejected"&&c(p.reason);return a().catch(c)})},te=U({key:"conversationState",default:{id:"default",messages:[]}});function f(...t){return ce(le(t))}function N(t,...a){const n=t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();return f(n,...a)}function ut(t){if(!t||t<=0)return"0s";const a=t/1e3,n=Math.floor(a/3600),r=Math.floor(a%3600/60),o=a%60;return n>0?`${n}h ${r}m`:r>0?`${r}m ${Math.floor(o)}s`:`${o.toFixed(1)}s`}const Ae=ue("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ae=l.forwardRef(({className:t,variant:a,size:n,asChild:r=!1,...o},c)=>{const i=r?de:"button";return e.jsx(i,{className:N("Button",f(Ae({variant:a,size:n,className:t}))),ref:c,...o})});ae.displayName="Button";function Ee({children:t,content:a,className:n}){const[r,o]=l.useState(!1);return e.jsxs("div",{className:f("relative inline-block",n),onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onClick:()=>o(!r),children:[t,r&&e.jsxs("div",{className:"absolute top-full right-0 transform translate-x-0 mt-2 px-3 py-2 bg-gray-900 text-white text-xs rounded shadow-lg z-10 whitespace-pre-line max-w-sm min-w-[120px]",children:[a,e.jsx("div",{className:"absolute bottom-full right-0 transform translate-x-0 w-0 h-0 border-l-2 border-r-2 border-b-2 border-transparent border-b-gray-900"})]})]})}const u={environment:"prod",prod:{connection:{apiKey:"",baseUrl:"https://apis.aiola.ai",authBaseUrl:"https://auth.aiola.ai",workflowId:""},stt:{language:"en_US",keywords:[],vad:"default",rememberFlowid:!0,schemaValues:{}},tts:{voice:"tara",language:"en"}},dev:{connection:{apiKey:"",baseUrl:"https://dev-vp1-uw2-api.internal.aiola.ai",authBaseUrl:"https://dev-vp1-uw2-auth.internal.aiola.ai",workflowId:""},stt:{language:"en_US",keywords:[],vad:"default",rememberFlowid:!0,schemaValues:{}},tts:{voice:"tara",language:"en"}},custom:{connection:{apiKey:"",baseUrl:"",authBaseUrl:"",workflowId:""},stt:{language:"en_US",keywords:[],vad:"default",rememberFlowid:!0,schemaValues:{}},tts:{voice:"tara",language:"en"}}};function A(){var t,a,n,r,o,c,i,p,d,h,m,g,_,y,w,P,R,B,L,T,O,F,z,$,M;if(typeof window>"u"||typeof localStorage>"u")return u;try{const b=localStorage.getItem("aiola-settings");if(b){const s=JSON.parse(b);if(s.connection&&typeof s.connection.apiKey=="string"){console.log("[loadSettingsFromStorage] Migrating from old settings format");const v={environment:s.environment||"prod",prod:{connection:{apiKey:s.connection.apiKey||"",baseUrl:"https://apis.aiola.ai",authBaseUrl:"https://auth.aiola.ai",workflowId:((t=s.stt)==null?void 0:t.flowid)||""},stt:{language:((a=s.stt)==null?void 0:a.language)||"en_US",keywords:((n=s.stt)==null?void 0:n.keywords)||[],vad:((r=s.stt)==null?void 0:r.vad)||"default",rememberFlowid:((o=s.stt)==null?void 0:o.rememberFlowid)!==!1,schemaValues:((c=s.stt)==null?void 0:c.schemaValues)||{}},tts:{voice:((i=s.tts)==null?void 0:i.voice)||"tara",language:"en"}},dev:{connection:{apiKey:"",baseUrl:"https://dev-vp1-uw2-api.internal.aiola.ai",authBaseUrl:"https://dev-vp1-uw2-auth.internal.aiola.ai",workflowId:""},stt:{language:"en_US",keywords:[],vad:"default",rememberFlowid:!0,schemaValues:{}},tts:{voice:"tara",language:"en"}},custom:{connection:{apiKey:"",baseUrl:"",authBaseUrl:"",workflowId:""},stt:{language:"en_US",keywords:[],vad:"default",rememberFlowid:!0,schemaValues:{}},tts:{voice:"tara",language:"en"}}};return localStorage.setItem("aiola-settings",JSON.stringify(v)),console.log("[loadSettingsFromStorage] Settings migrated and loaded"),v}if((d=(p=s.prod)==null?void 0:p.connection)!=null&&d.apiKey){const v=s.prod.connection.apiKey;(typeof v!="string"||v.includes("authorization Bearer")||v.includes('{"connection":'))&&(console.warn("Corrupted apiKey detected in localStorage, clearing it"),s.prod.connection.apiKey="",localStorage.setItem("aiola-settings",JSON.stringify({...u,...s,prod:{...u.prod,...s.prod,connection:{...u.prod.connection,...(h=s.prod)==null?void 0:h.connection,apiKey:""}}})))}if((g=(m=s.dev)==null?void 0:m.connection)!=null&&g.apiKey){const v=s.dev.connection.apiKey;(typeof v!="string"||v.includes("authorization Bearer")||v.includes('{"connection":'))&&(console.warn("Corrupted dev apiKey detected in localStorage, clearing it"),s.dev.connection.apiKey="",localStorage.setItem("aiola-settings",JSON.stringify({...u,...s,dev:{...u.dev,...s.dev,connection:{...u.dev.connection,...(_=s.dev)==null?void 0:_.connection,apiKey:""}}})))}const x={...u,...s,prod:{...u.prod,...s.prod||{},connection:{...u.prod.connection,...((y=s.prod)==null?void 0:y.connection)||{}},stt:{...u.prod.stt,...((w=s.prod)==null?void 0:w.stt)||{},schemaValues:((R=(P=s.prod)==null?void 0:P.stt)==null?void 0:R.schemaValues)||{}}},dev:{...u.dev,...s.dev||{},connection:{...u.dev.connection,...((B=s.dev)==null?void 0:B.connection)||{}},stt:{...u.dev.stt,...((L=s.dev)==null?void 0:L.stt)||{},schemaValues:((O=(T=s.dev)==null?void 0:T.stt)==null?void 0:O.schemaValues)||{}}},custom:{...u.custom,...s.custom||{},connection:{...u.custom.connection,...((F=s.custom)==null?void 0:F.connection)||{}},stt:{...u.custom.stt,...((z=s.custom)==null?void 0:z.stt)||{},schemaValues:((M=($=s.custom)==null?void 0:$.stt)==null?void 0:M.schemaValues)||{}}}};return console.log("[loadSettingsFromStorage] Settings loaded from localStorage:",{environment:x.environment,hasProdApiKey:!!x.prod.connection.apiKey,hasDevApiKey:!!x.dev.connection.apiKey,prodSttLanguage:x.prod.stt.language,prodTtsVoice:x.prod.tts.voice,devSttLanguage:x.dev.stt.language,devTtsVoice:x.dev.tts.voice,source:"localStorage"}),x}}catch(b){console.warn("Failed to load settings from localStorage:",b),console.log("[loadSettingsFromStorage] Using default settings due to error")}return console.log("[loadSettingsFromStorage] No saved settings found, using defaults"),u}function Pe(){return typeof window<"u"&&typeof localStorage<"u"?A():u}ye({key:"settingsSelector",get:()=>A()});const E=U({key:"settingsState",default:Pe()});function Re(){return K(E)}function Be(){const[,t]=K(E);return l.useEffect(()=>{const a=setTimeout(()=>{const n=A(),r={apiKey:n[n.environment].connection.apiKey,stt:n[n.environment].stt,tts:n[n.environment].tts};console.log("[SettingsInitializer] Settings loaded from localStorage:",{environment:n.environment,hasApiKey:!!r.apiKey,sttLanguage:r.stt.language,ttsVoice:r.tts.voice,rememberFlowid:r.stt.rememberFlowid}),t(n)},100);return()=>clearTimeout(a)},[t]),null}const Le=U({key:"audioState",default:{micAllowed:!1,isRecording:!1,isTranscribing:!1,microphoneState:"idle",partialText:"",playingMessageId:void 0,currentRecordingMessageId:void 0,startedAtMs:0,elapsedMs:0,sttRequestStartedAtMs:0,sttRequestElapsedMs:0,currentSessionId:void 0,cancelFunction:void 0,cancelChatFunction:void 0,currentAudioElement:null}}),Te={"@aiola/sdk":"^2.2.0"},Oe={dependencies:Te},Fe="0.1.5",ze=Oe.dependencies["@aiola/sdk"].replace("^",""),$e=ve,pt=xe,ne=l.forwardRef(({className:t,children:a,showIcon:n=!0,...r},o)=>e.jsxs(J,{ref:o,className:f("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[a,n&&e.jsx(pe,{asChild:!0,children:e.jsx(Y,{className:"h-4 w-4 opacity-50"})})]}));ne.displayName=J.displayName;const oe=l.forwardRef(({className:t,...a},n)=>e.jsx(G,{ref:n,className:f("flex cursor-default items-center justify-center py-1",t),...a,children:e.jsx(Se,{className:"h-4 w-4"})}));oe.displayName=G.displayName;const se=l.forwardRef(({className:t,...a},n)=>e.jsx(H,{ref:n,className:f("flex cursor-default items-center justify-center py-1",t),...a,children:e.jsx(Y,{className:"h-4 w-4"})}));se.displayName=H.displayName;const re=l.forwardRef(({className:t,children:a,position:n="popper",...r},o)=>e.jsx(he,{children:e.jsxs(W,{ref:o,className:f("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-white text-black shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[e.jsx(oe,{}),e.jsx(me,{className:f("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),e.jsx(se,{})]})}));re.displayName=W.displayName;const Me=l.forwardRef(({className:t,...a},n)=>e.jsx(Z,{ref:n,className:f("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...a}));Me.displayName=Z.displayName;const ie=l.forwardRef(({className:t,children:a,...n},r)=>e.jsxs(Q,{ref:r,className:f("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-black data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ge,{children:e.jsx(je,{className:"h-4 w-4"})})}),e.jsx(fe,{children:a})]}));ie.displayName=Q.displayName;const De=l.forwardRef(({className:t,...a},n)=>e.jsx(X,{ref:n,className:f("-mx-1 my-1 h-px bg-muted",t),...a}));De.displayName=X.displayName;const C=[{value:"tara",label:"Tara"},{value:"zoe",label:"Zoe"},{value:"zac",label:"Zac"},{value:"dan",label:"Dan"},{value:"jess",label:"Jess"},{value:"leo",label:"Leo"},{value:"mia",label:"Mia"},{value:"julia",label:"Julia"},{value:"leah",label:"Leah"}];function qe(t){const a=t.environment;return{apiKey:t[a].connection.apiKey,baseUrl:t[a].connection.baseUrl,authBaseUrl:t[a].connection.authBaseUrl,workflowId:t[a].connection.workflowId,environment:a,stt:t[a].stt,tts:t[a].tts}}function Je({className:t=""}){var h;const[a,n]=K(E),[r,o]=l.useState(!1),i=qe(a).tts.voice,p=((h=C.find(m=>m.value===i))==null?void 0:h.label)||i,d=m=>{var y;const g=a.environment,_={...a,[g]:{...a[g],tts:{...a[g].tts,voice:m}}};n(_),localStorage.setItem("aiola-settings",JSON.stringify(_)),V.success(`Voice changed to ${(y=C.find(w=>w.value===m))==null?void 0:y.label}`),o(!1)};return e.jsx("div",{className:N("QuickVoicePicker",t),children:e.jsxs($e,{value:i,onValueChange:d,open:r,onOpenChange:o,children:[e.jsx(ne,{className:"quick-voice-picker__trigger",showIcon:!1,children:e.jsxs("div",{className:"quick-voice-picker__content",children:[e.jsx("span",{className:"quick-voice-picker__label",children:"Voice:"}),e.jsx("span",{className:"quick-voice-picker__current-voice",children:p}),e.jsx(Ne,{className:"quick-voice-picker__chevron"})]})}),e.jsx(re,{className:"quick-voice-picker__content",children:C.map(m=>e.jsx(ie,{value:m.value,className:"quick-voice-picker__item",children:e.jsx("span",{className:"quick-voice-picker__item-label",children:m.label})},m.value))})]})})}function Ge(t){const a=t.environment;return{apiKey:t[a].connection.apiKey,baseUrl:t[a].connection.baseUrl,authBaseUrl:t[a].connection.authBaseUrl,workflowId:t[a].connection.workflowId,environment:a,stt:t[a].stt,tts:t[a].tts}}const He=Fe;function We({onSettingsClick:t}){const[a]=Re(),n=Ge(a),r=I(te),o=I(Le),c=r.messages.filter(d=>d.kind==="Structured").sort((d,h)=>d.createdAt-h.createdAt);let i="N/A";if(c.length>=2){const d=c[c.length-1],h=c[c.length-2];i=`${d.createdAt-h.createdAt}ms`}console.log("ChatHeader settings:",a),console.log("ChatHeader currentSettings:",n);const p=async(d,h)=>{try{await navigator.clipboard.writeText(d),V.success(`${h} copied to clipboard`),console.log(`${h} copied to clipboard`)}catch(m){console.error("Failed to copy:",m),V.error("Failed to copy to clipboard")}};return e.jsx("header",{className:N("ChatHeader","chat-header"),children:e.jsxs("div",{className:"chat-header__container",children:[e.jsxs("div",{className:"chat-header__left-section",children:[e.jsx("div",{className:"chat-header__content",children:e.jsxs("div",{className:"chat-header__title-row",children:[e.jsx("h1",{className:"chat-header__title",children:"VAP"}),e.jsx("div",{className:"chat-header__environment-chip",children:n.environment.toUpperCase()}),e.jsx("div",{className:"chat-header__status",children:e.jsxs("div",{className:"chat-header__microphone-status",children:[e.jsx(ke,{className:`chat-header__microphone-indicator ${o.microphoneState==="connected"?"chat-header__microphone-indicator--connected":o.microphoneState==="ready"?"chat-header__microphone-indicator--ready":o.microphoneState==="connecting"?"chat-header__microphone-indicator--connecting":o.microphoneState==="preparingMic"?"chat-header__microphone-indicator--preparingMic":"chat-header__microphone-indicator--idle"}`}),e.jsx("span",{className:`chat-header__microphone-text ${o.microphoneState==="connected"?"chat-header__microphone-text--connected":o.microphoneState==="ready"?"chat-header__microphone-text--ready":o.microphoneState==="connecting"?"chat-header__microphone-text--connecting":o.microphoneState==="preparingMic"?"chat-header__microphone-text--preparingMic":"chat-header__microphone-text--idle"}`,children:o.microphoneState==="connected"?"Recording":o.microphoneState==="ready"?"Ready":o.microphoneState==="connecting"?"Connecting":o.microphoneState==="preparingMic"?"Preparing Mic":"Idle"})]})})]})}),e.jsx("div",{className:"chat-header__content-below",children:e.jsxs("div",{className:"chat-header__connection-info",children:[e.jsxs("div",{className:"chat-header__connection-item",children:[e.jsx("span",{className:"chat-header__connection-label",children:"API Key:"}),e.jsx("span",{className:"chat-header__connection-value",children:n.apiKey?`...${n.apiKey.slice(-15)}`:"Not set"}),n.apiKey&&e.jsx(k,{className:"chat-header__copy-icon",onClick:()=>p(n.apiKey,"API Key")})]}),e.jsxs("div",{className:"chat-header__connection-item",children:[e.jsx("span",{className:"chat-header__connection-label",children:"Workflow Id:"}),e.jsx("span",{className:"chat-header__connection-value",children:n.workflowId||"default"}),n.workflowId&&e.jsx(k,{className:"chat-header__copy-icon",onClick:()=>p(n.workflowId||"","Workflow Id")})]}),e.jsxs("div",{className:"chat-header__connection-item",children:[e.jsx("span",{className:"chat-header__connection-label",children:"Session:"}),e.jsx("span",{className:"chat-header__connection-value",children:o.currentSessionId?`...${o.currentSessionId.slice(-16)}`:"connection requiredâ—ï¸"}),e.jsx(k,{className:"chat-header__copy-icon",onClick:()=>p(o.currentSessionId||r.id,"Session")})]}),e.jsxs("div",{className:"chat-header__connection-item",children:[e.jsx("span",{className:"chat-header__connection-label",children:"Execution Id:"}),e.jsx("span",{className:"chat-header__connection-value",children:"TBD ðŸš§"})]}),e.jsxs("div",{className:"chat-header__connection-item",children:[e.jsx("span",{className:"chat-header__connection-label",children:"Avg Latency:"}),e.jsx("span",{className:"chat-header__connection-value",children:i})]})]})})]}),e.jsxs("div",{className:"chat-header__actions",children:[e.jsx(Je,{className:"chat-header__voice-picker"}),e.jsx(ae,{variant:"ghost",size:"default",onClick:t,className:"chat-header__settings-button",children:e.jsx(Ce,{})})]}),e.jsxs("div",{className:"chat-header__top-actions",children:[e.jsx(Ee,{className:"chat-header__version-icon",content:`version: ${He}
aiOlaSDK: ${ze}`,children:e.jsx(Ie,{})}),e.jsx("a",{href:"https://github.com/aiola-api/aiola-voice-api-app",target:"_blank",rel:"noopener noreferrer",className:"chat-header__github-link","aria-label":"View on GitHub",children:e.jsx(Ve,{})})]})]})})}const Ze=l.lazy(()=>j(()=>import("./ConfigDialog-DpZ3TTh4.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])).then(t=>({default:t.ConfigDialog}))),Qe=l.lazy(()=>j(()=>import("./VoiceControls-D5WDwUpZ.js"),__vite__mapDeps([10,1,2,4,3,5,6,7,8,11])).then(t=>({default:t.VoiceControls}))),Xe=l.lazy(()=>j(()=>import("./UploadDropzone-CLdGrOb0.js"),__vite__mapDeps([12,1,2,4,7,3,5,6,8,13])).then(t=>({default:t.UploadDropzone}))),Ye=l.lazy(()=>j(()=>import("./ChatMessageList-Bja7a3sY.js"),__vite__mapDeps([14,1,2,4,15,8,3,5,6,16])).then(t=>({default:t.ChatMessageList}))),S=()=>e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})});function et(){const[t,a]=l.useState(!1),n=I(te);return e.jsxs("div",{className:N("Chat","chat-page"),children:[e.jsx("div",{className:"chat-page__header",children:e.jsx(We,{onSettingsClick:()=>a(!0)})}),e.jsxs("div",{className:"chat-page__main",children:[t&&e.jsx(l.Suspense,{fallback:e.jsx(S,{}),children:e.jsx(Ze,{open:t,onOpenChange:a})}),e.jsx("div",{className:"chat-page__messages-area",children:e.jsx("div",{className:"chat-page__messages-container",children:e.jsx(l.Suspense,{fallback:e.jsx(S,{}),children:e.jsx(Ye,{messages:n.messages})})})}),e.jsxs("div",{className:"chat-page__controls-content",children:[e.jsx("div",{className:"chat-page__upload-dropzone",children:e.jsx(l.Suspense,{fallback:e.jsx(S,{}),children:e.jsx(Xe,{})})}),e.jsx("div",{className:"chat-page__voice-controls",children:e.jsx(l.Suspense,{fallback:e.jsx(S,{}),children:e.jsx(Qe,{})})})]})]})]})}const tt=({...t})=>e.jsx(be,{theme:"light",className:"toaster group",position:"top-right",dir:"ltr",toastOptions:{classNames:{toast:"group toast !bg-white !text-gray-900 !border-gray-200 shadow-lg animate-in slide-in-from-right-full !w-80 min-w-[200px]",description:"group-[.toast]:!text-gray-700",actionButton:"group-[.toast]:!bg-gray-800 group-[.toast]:!text-white hover:group-[.toast]:!bg-gray-700",cancelButton:"group-[.toast]:!bg-gray-100 group-[.toast]:!text-gray-800 hover:group-[.toast]:!bg-gray-200"}},...t});function at(){const t=navigator.userAgent;return!!(t.includes("ChatGPT-Atlas")||t.includes("Chrome")&&!t.includes("Edg"))}function nt(){const t=navigator.userAgent;return t.includes("ChatGPT-Atlas")?"ChatGPT-Atlas":t.includes("Chrome")&&!t.includes("Edg")?"Chrome":t.includes("Firefox")?"Firefox":t.includes("Safari")&&!t.includes("Chrome")?"Safari":t.includes("Edg")?"Edge":"Unknown"}function ot({onClose:t}){const a=nt();return e.jsx("div",{className:"browser-popup-overlay",onClick:t,children:e.jsxs("div",{className:"browser-popup-card",onClick:n=>n.stopPropagation(),children:[e.jsxs("div",{className:"browser-popup-header",children:[e.jsx("div",{className:"browser-popup-icon",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h2",{className:"browser-popup-title",children:"Unsupported Browser"})]}),e.jsx("p",{className:"browser-popup-message",children:"This application requires a supported browser for optimal performance and functionality. Please switch to one of the supported browsers listed below."}),e.jsxs("div",{className:"browser-popup-supported-list",children:[e.jsx("h4",{children:"Supported Browsers:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"ChatGPT-Atlas"}),e.jsx("li",{children:"Chrome"})]})]}),e.jsx("button",{className:"browser-popup-close-button",onClick:t,children:"Continue Anyway"}),a!=="Unknown"&&e.jsxs("p",{className:"browser-popup-current-browser",children:["Current browser: ",a]})]})})}function st(){const[t,a]=l.useState(!1);return l.useEffect(()=>{at()||a(!0)},[]),e.jsxs(we,{children:[e.jsx(Be,{}),e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#d1d5db"},children:[e.jsx(et,{}),e.jsx(tt,{position:"top-right",style:{marginTop:"40px",marginRight:"50px"}})]}),t&&e.jsx(ot,{onClose:()=>a(!1)})]})}document.title="VAP";ee(document.getElementById("root")).render(e.jsx(l.StrictMode,{children:e.jsx(st,{})}));export{ae as B,$e as S,f as a,ne as b,N as c,pt as d,re as e,ie as f,Le as g,te as h,ut as i,E as s,Re as u};
